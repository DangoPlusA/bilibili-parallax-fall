(this["webpackJsonpbilibili-parallax-fall"]=this["webpackJsonpbilibili-parallax-fall"]||[]).push([[0],{11:function(t,e,a){},12:function(t,e,a){},14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(1),c=a.n(r),i=a(4),s=a.n(i),l=(a(11),a(12),a(3)),d=a.n(l),u=a(5),o=a.p+"static/media/fairy.1434d5b0.png",f=a.p+"static/media/hill.7d60d830.png",h=a.p+"static/media/girl-eye-open.bdb19c52.png",b=a.p+"static/media/girl-eye-napping.765f7868.png",p=a.p+"static/media/girl-eye-closed.12015466.png",g=a.p+"static/media/leaf.81622c4f.png",x=a.p+"static/media/foreground.377b9bdd.png",j=a.p+"static/media/background.116becdd.png",m=a.p+"static/media/logo.1ae56385.png";a(14);var v=function(){var t=Object(r.useRef)(null),e=Object(r.useRef)(null),a=[{aspect:1,blur:4,x:0,y:0,rotate:0,blurEffect:function(t,e){return t+e*t},parallaxX:function(t,e){return t}},{aspect:.6,blur:0,x:0,y:0,rotate:0,blurEffect:function(t,e){return Math.abs(10*e)},parallaxX:function(t,e){return(t||0)-10*e}},{aspect:1,blur:1,x:-50,y:0,rotate:0,blurEffect:function(t,e){return Math.abs(t-4*e)},parallaxX:function(t,e){return(t||0)-30*e}},{aspect:.6,blur:4,x:0,y:4.2,rotate:0,blurEffect:function(t,e){return Math.abs(t-8*e)},parallaxX:function(t,e){return(t||0)-45*e}},{aspect:.6,blur:5,x:0,y:-1.8,rotate:0,blurEffect:function(t,e){return Math.abs(t-8*e)},parallaxX:function(t,e){return(t||0)-95*e}},{aspect:.65,blur:6,x:0,y:0,rotate:0,blurEffect:function(t,e){return Math.abs(t-4*e)},parallaxX:function(t,e){return t||0-118*e}}],c={width:0,x:0},i=1658;Object(r.useEffect)((function(){y(t),window.addEventListener("resize",(function(){y(t)}),!1),t.current&&(t.current.addEventListener("mouseenter",(function(e){var a=t.current.getBoundingClientRect().width;c.x=e.clientX,c.width=a}),!1),t.current.addEventListener("mousemove",(function(e){var a=(e.clientX-c.x)/c.width;y(t,a)}),!1),t.current.addEventListener("mouseout",(function(e){w(t)}),!1))}));var s=function(t){return new Promise((function(e){return setTimeout(e,t)}))},l=function(){var t=Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=12;break}return a=e.current.childNodes[0],t.next=4,s(50);case 4:return a.src=b,t.next=7,s(50);case 7:return a.src=p,t.next=10,s(350);case 10:a.src=h,setTimeout(l,5e3);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();setTimeout(l,5e3);var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"filter: blur(".concat(t,"px); transition-duration:").concat(r?"0.2s":"0s","; transform:translate(").concat(e,"px, ").concat(a,"px) rotate(").concat(n,"deg) translateZ(0);")},O=function(t,e){return v(a[t].blur,a[t].x,a[t].y,a[t].rotate,e)},y=function(t,e){var a=t.current.getBoundingClientRect();t.current.childNodes&&t.current.childNodes.length>0&&Array.from(t.current.childNodes).forEach((function(t,n){var r=t.childNodes[0];a.width<i?E(n,r,a):I(n,r,a),e&&N(r,n,e)}))},w=function(t){c.width=0,c.x=0,t.current.childNodes&&t.current.childNodes.length>0&&Array.from(t.current.childNodes).forEach((function(t,e){t.childNodes[0].style=O(e,!0)}))},N=function(t,e,n){var r=a[e].blurEffect(a[e].blur,n),c=a[e].parallaxX(a[e].x,n);t.style=v(r,c,a[e].y,a[e].rotate)},E=function(t,e,n){var r=parseInt(e.dataset.width,10),c=parseInt(e.dataset.height,10);e.width=a[t].aspect*r,e.height=a[t].aspect*c,e.style=O(t)},I=function(t,e,n){var r=parseInt(e.dataset.width,10),c=parseInt(e.dataset.height,10),s=parseInt(n.width,10),l=a[t].aspect*r,d=a[t].aspect*c;e.width=l+12*parseInt((s-i)/10),e.height=d+1*parseInt((s-i)/10),e.style=O(t)};return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"fall-banner",children:[Object(n.jsxs)("div",{className:"animate-banner",ref:t,children:[Object(n.jsx)("div",{className:"layer",children:Object(n.jsx)("img",{src:j,"data-width":"3000","data-height":"250",alt:"background"})}),Object(n.jsx)("div",{className:"layer",ref:e,children:Object(n.jsx)("img",{src:h,"data-width":"3000","data-height":"275",alt:"girl"})}),Object(n.jsx)("div",{className:"layer",children:Object(n.jsx)("img",{src:f,"data-width":"3000","data-height":"250",alt:"hill"})}),Object(n.jsx)("div",{className:"layer",children:Object(n.jsx)("img",{src:x,"data-width":"3000","data-height":"250",alt:"foreground"})}),Object(n.jsx)("div",{className:"layer",children:Object(n.jsx)("img",{src:o,"data-width":"3000","data-height":"275",alt:"fairy"})}),Object(n.jsx)("div",{className:"layer",children:Object(n.jsx)("img",{src:g,"data-width":"3000","data-height":"275",alt:"leaf"})})]}),Object(n.jsx)("div",{className:"fall-wrapper",children:Object(n.jsx)("a",{href:"https://space.bilibili.com/485109441",children:Object(n.jsx)("img",{src:m,alt:"bibibi"})})})]})})},O=a.p+"static/media/fullview.93c85a9f.png";var y=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsx)("div",{className:"demo-background",children:Object(n.jsx)("img",{src:O,alt:"full-background"})})]})},w=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),w()}},[[15,1,2]]]);
//# sourceMappingURL=main.8f4e4e92.chunk.js.map