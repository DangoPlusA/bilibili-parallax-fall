{"version":3,"sources":["assets/banner/fairy.png","assets/banner/hill.png","assets/banner/girl-eye-open.png","assets/banner/girl-eye-napping.png","assets/banner/girl-eye-closed.png","assets/banner/leaf.png","assets/banner/foreground.png","assets/banner/background.png","assets/banner/logo.png","fallBanner/index.js","assets/banner/fullview.png","App.js","reportWebVitals.js","index.js"],"names":["FallBanner","animateBanner","useRef","animateGirl","initConfig","aspect","blur","x","y","rotate","blurEffect","p","parallaxX","Math","abs","endpoint","width","breakpoint","useEffect","InitBannerImages","window","addEventListener","current","event","getBoundingClientRect","clientX","parallaxRatio","resetBannerImagesEffect","sleep","time","Promise","resolve","setTimeout","makeBlink","a","img","childNodes","src","girlNapping","girlClosed","girlEyeOpen","movementTemplate","filter","isReset","initEffect","key","banner","parallax","bannerRect","length","Array","from","forEach","item","initRectSmallScreen","initRectNormalScreen","makeBlurMoveEffect","style","originWidth","parseInt","dataset","originHeight","height","screenWidth","className","ref","background","data-width","data-height","alt","hill","foreground","fairy","leaf","href","logo","App","fullview","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b63adc62.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/fairy.1434d5b0.png\";","export default __webpack_public_path__ + \"static/media/hill.7d60d830.png\";","export default __webpack_public_path__ + \"static/media/girl-eye-open.bdb19c52.png\";","export default __webpack_public_path__ + \"static/media/girl-eye-napping.765f7868.png\";","export default __webpack_public_path__ + \"static/media/girl-eye-closed.12015466.png\";","export default __webpack_public_path__ + \"static/media/leaf.81622c4f.png\";","export default __webpack_public_path__ + \"static/media/foreground.377b9bdd.png\";","export default __webpack_public_path__ + \"static/media/background.116becdd.png\";","export default __webpack_public_path__ + \"static/media/logo.1ae56385.png\";","import React, { useEffect, useRef } from \"react\";\nimport fairy from \"../assets/banner/fairy.png\";\nimport hill from \"../assets/banner/hill.png\";\nimport girlEyeOpen from \"../assets/banner/girl-eye-open.png\";\nimport girlNapping from \"../assets/banner/girl-eye-napping.png\";\nimport girlClosed from \"../assets/banner/girl-eye-closed.png\";\nimport leaf from \"../assets/banner/leaf.png\";\nimport foreground from \"../assets/banner/foreground.png\";\nimport background from \"../assets/banner/background.png\";\nimport logo from \"../assets/banner/logo.png\";\nimport \"./fall.scss\";\n\nfunction FallBanner() {\n  const animateBanner = useRef(null);\n  const animateGirl = useRef(null);\n  const initConfig = [\n    {\n      aspect: 1,\n      blur: 4,\n      x: 0,\n      y: 0,\n      rotate: 0,\n      blurEffect: (blur, p) => blur + p * blur,\n      parallaxX: (x, p) => x,\n    },\n    {\n      aspect: 0.6,\n      blur: 0,\n      x: 0,\n      y: 0,\n      rotate: 0,\n      blurEffect: (blur, p) => Math.abs(p * 10),\n      parallaxX: (x, p) => (x || 0) - p * 10,\n    },\n    {\n      aspect: 1,\n      blur: 1,\n      x: -50,\n      y: 0,\n      rotate: 0,\n      blurEffect: (blur, p) => Math.abs(blur - p * 4),\n      parallaxX: (x, p) => (x || 0) - p * 30,\n    },\n    {\n      aspect: 0.6,\n      blur: 4,\n      x: 0,\n      y: 4.2,\n      rotate: 0,\n      blurEffect: (blur, p) => Math.abs(blur - p * 8),\n      parallaxX: (x, p) => (x || 0) - p * 45,\n    },\n    {\n      aspect: 0.6,\n      blur: 5,\n      x: 0,\n      y: -1.8,\n      rotate: 0,\n      blurEffect: (blur, p) => Math.abs(blur - p * 8),\n      parallaxX: (x, p) => (x || 0) - p * 95,\n    },\n    {\n      aspect: 0.65,\n      blur: 6,\n      x: 0,\n      y: 0,\n      rotate: 0,\n      blurEffect: (blur, p) => Math.abs(blur - p * 4),\n      parallaxX: (x, p) => x || 0 - p * 118,\n    },\n  ];\n  const endpoint = { width: 0, x: 0 };\n\n  const breakpoint = 1658;\n\n  useEffect(() => {\n    InitBannerImages(animateBanner);\n    window.addEventListener(\n      \"resize\",\n      () => {\n        InitBannerImages(animateBanner);\n      },\n      false\n    );\n    if (animateBanner.current) {\n      animateBanner.current.addEventListener(\n        \"mouseenter\",\n        (event) => {\n          const { width } = animateBanner.current.getBoundingClientRect();\n          endpoint.x = event.clientX;\n          endpoint.width = width;\n        },\n        false\n      );\n      animateBanner.current.addEventListener(\n        \"mousemove\",\n        (event) => {\n          const parallax = event.clientX - endpoint.x;\n          const parallaxRatio = parallax / endpoint.width;\n          InitBannerImages(animateBanner, parallaxRatio);\n        },\n        false\n      );\n      animateBanner.current.addEventListener(\n        \"mouseout\",\n        (event) => {\n          resetBannerImagesEffect(animateBanner);\n        },\n        false\n      );\n    }\n  });\n  const sleep = (time) => {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  };\n  const makeBlink = async () => {\n    if (animateGirl.current) {\n      const img = animateGirl.current.childNodes[0];\n      await sleep(50);\n      img.src = girlNapping;\n      await sleep(50);\n      img.src = girlClosed;\n      await sleep(350);\n      img.src = girlEyeOpen;\n      setTimeout(makeBlink, 5000);\n    }\n  };\n  setTimeout(makeBlink, 5000);\n\n  const movementTemplate = (filter = 0, x = 0, y = 0, rotate = 0, isReset) => {\n    return `filter: blur(${filter}px); transition-duration:${isReset ? \"0.2s\" : \"0s\"}; transform:translate(${x}px, ${y}px) rotate(${rotate}deg) translateZ(0);`;\n  };\n  const initEffect = (key, isReset = false) => {\n    return movementTemplate(\n      initConfig[key].blur,\n      initConfig[key].x,\n      initConfig[key].y,\n      initConfig[key].rotate,\n      isReset\n    );\n  };\n\n  const InitBannerImages = (banner, parallax) => {\n    const bannerRect = banner.current.getBoundingClientRect();\n    if (banner.current.childNodes && banner.current.childNodes.length > 0) {\n      Array.from(banner.current.childNodes).forEach((item, key) => {\n        const img = item.childNodes[0];\n        if (bannerRect.width < breakpoint) {\n          initRectSmallScreen(key, img, bannerRect);\n        } else {\n          initRectNormalScreen(key, img, bannerRect);\n        }\n        if (parallax) {\n          makeBlurMoveEffect(img, key, parallax);\n        }\n      });\n    }\n  };\n  const resetBannerImagesEffect = (banner) => {\n    endpoint.width = 0;\n    endpoint.x = 0;\n\n    if (banner.current.childNodes && banner.current.childNodes.length > 0) {\n      Array.from(banner.current.childNodes).forEach((item, key) => {\n        const img = item.childNodes[0];\n        img.style = initEffect(key, true);\n      });\n    }\n  };\n  const makeBlurMoveEffect = (img, key, parallax) => {\n    const blur = initConfig[key].blurEffect(initConfig[key].blur, parallax);\n    const x = initConfig[key].parallaxX(initConfig[key].x, parallax);\n    img.style = movementTemplate(\n      blur,\n      x,\n      initConfig[key].y,\n      initConfig[key].rotate\n    );\n  };\n  const initRectSmallScreen = (key, item, bannerRect) => {\n    const originWidth = parseInt(item.dataset.width, 10);\n    const originHeight = parseInt(item.dataset.height, 10);\n    item.width = initConfig[key].aspect * originWidth;\n    item.height = initConfig[key].aspect * originHeight;\n    item.style = initEffect(key);\n  };\n\n  const initRectNormalScreen = (key, item, bannerRect) => {\n    const originWidth = parseInt(item.dataset.width, 10);\n    const originHeight = parseInt(item.dataset.height, 10);\n    const screenWidth = parseInt(bannerRect.width, 10);\n    const width = initConfig[key].aspect * originWidth;\n    const height = initConfig[key].aspect * originHeight;\n\n    item.width = width + parseInt((screenWidth - breakpoint) / 10) * 12;\n    item.height = height + parseInt((screenWidth - breakpoint) / 10) * 1;\n    item.style = initEffect(key);\n  };\n\n  return (\n    <div>\n      <div className=\"fall-banner\">\n        <div className=\"animate-banner\" ref={animateBanner}>\n          <div className=\"layer\">\n            <img\n              src={background}\n              data-width=\"3000\"\n              data-height=\"250\"\n              alt=\"background\"\n            />\n          </div>\n          <div className=\"layer\" ref={animateGirl}>\n            <img\n              src={girlEyeOpen}\n              data-width=\"3000\"\n              data-height=\"275\"\n              alt=\"girl\"\n            />\n          </div>\n          <div className=\"layer\">\n            <img src={hill} data-width=\"3000\" data-height=\"250\" alt=\"hill\" />\n          </div>\n          <div className=\"layer\">\n            <img\n              src={foreground}\n              data-width=\"3000\"\n              data-height=\"250\"\n              alt=\"foreground\"\n            />\n          </div>\n          <div className=\"layer\">\n            <img src={fairy} data-width=\"3000\" data-height=\"275\" alt=\"fairy\" />\n          </div>\n          <div className=\"layer\">\n            <img src={leaf} data-width=\"3000\" data-height=\"275\" alt=\"leaf\" />\n          </div>\n        </div>\n        <div className=\"fall-wrapper\">\n          <a href=\"https://space.bilibili.com/485109441\">\n            <img src={logo} alt=\"bibibi\" />\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FallBanner;\n","export default __webpack_public_path__ + \"static/media/fullview.93c85a9f.png\";","import \"./App.css\";\nimport FallBanner from \"./fallBanner\"\nimport fullview from \"./assets/banner/fullview.png\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <FallBanner ></FallBanner>\n      <div className=\"demo-background\">\n        <img src={fullview} alt=\"full-background\" />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}